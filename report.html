
    <!DOCTYPE html>
    <html>
    <head>
        <title>SynthID Evaluation Report</title>
        <style>
            body { font-family: sans-serif; margin: 20px; }
            .problem { border: 1px solid #ccc; padding: 20px; margin-bottom: 20px; border-radius: 5px; }
            .prompt { background-color: #f5f5f5; padding: 10px; white-space: pre-wrap; max-height: 200px; overflow-y: auto; border: 1px solid #ddd; }
            table { border-collapse: collapse; width: 100%; margin-top: 10px; }
            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; vertical-align: top; }
            th { background-color: #f2f2f2; }
            .passed { color: green; font-weight: bold; }
            .failed { color: red; }
            pre { white-space: pre-wrap; margin: 0; max-height: 300px; overflow-y: auto; background: #f8f8f8; padding: 5px; }
        </style>
    </head>
    <body>
        <h1>SynthID Evaluation Report</h1>
    
        <div class="problem">
            <h2>Problem ID: 0</h2>
            <details>
                <summary><strong>Prompt (Click to expand)</strong></summary>
                <div class="prompt">An accordion is a string (yes, in the real world accordions are musical instruments, but let's forget about it for a while) which can be represented as a concatenation of: an opening bracket (ASCII code $091$), a colon (ASCII code $058$), some (possibly zero) vertical line characters (ASCII code $124$), another colon, and a closing bracket (ASCII code $093$). The length of the accordion is the number of characters in it.

For example, [::], [:||:] and [:|||:] are accordions having length $4$, $6$ and $7$. (:|:), {:||:}, [:], ]:||:[ are not accordions. 

You are given a string $s$. You want to transform it into an accordion by removing some (possibly zero) characters from it. Note that you may not insert new characters or reorder existing ones. Is it possible to obtain an accordion by removing characters from $s$, and if so, what is the maximum possible length of the result?


-----Input-----

The only line contains one string $s$ ($1 \le |s| \le 500000$). It consists of lowercase Latin letters and characters [, ], : and |.


-----Output-----

If it is not possible to obtain an accordion by removing some characters from $s$, print $-1$. Otherwise print maximum possible length of the resulting accordion.


-----Examples-----
Input
|[a:b:|]

Output
4

Input
|]:[|:]

Output
-1</div>
            </details>
            
            <table>
                <thead>
                    <tr>
                        <th>N-gram</th>
                        <th>Attempts</th>
                        <th>Status</th>
                        <th>G-Score</th>
                        <th>Output/Error</th>
                        <th>Generated Code</th>
                    </tr>
                </thead>
                <tbody>
        
                    <tr>
                        <td>None</td>
                        <td>5</td>
                        <td class="failed">Passed (Wrong Output)</td>
                        <td>0.5206</td>
                        <td><pre>Expected: 4
Got: </pre></td>
                        <td><pre>def restoreString(s):
    stack = []
    ans = ""

    for ch in s:
        if ch == "(":
            stack.append("(")
        elif ch == ")":
            if stack:
                stack.pop()
                ans += ")"
            else:
                return -1

    return ans</pre></td>
                    </tr>
            
                    <tr>
                        <td>2</td>
                        <td>5</td>
                        <td class="failed">Passed (Wrong Output)</td>
                        <td>0.5315</td>
                        <td><pre>Expected: 4
Got: </pre></td>
                        <td><pre>def minRemove(s):
    stack = []
    for i, char in enumerate(s):
        if char == "(":
            stack.append(i)
        elif char == ")":
            top = stack.pop()
            if top == i:
                return i
        elif char == "|":
            stack.append(i)
    return -1</pre></td>
                    </tr>
            
                    <tr>
                        <td>5</td>
                        <td>5</td>
                        <td class="failed">Error</td>
                        <td>0.5051</td>
                        <td><pre>No result returned</pre></td>
                        <td><pre>def numberOfAccordions(s):
    left = 0
    right = len(s) - 1
    count = 0

    while left < right:
        if s[left:right] == ":" + s[left:right]:
            count += 1
            left += 1
        elif s[left:right] == "}" + s[left:right]:
            count -= 1
            right -= 1
        else:
            right -= 1

    return count</pre></td>
                    </tr>
            
                    <tr>
                        <td>10</td>
                        <td>5</td>
                        <td class="failed">Runtime Error</td>
                        <td>0.5317</td>
                        <td><pre>Traceback (most recent call last):
  File "/home2/nchw73/Year4/code-watermarking/pipeline.py", line 199, in _run_code_process
    exec(code, safe_globals)
  File "<string>", line 24
    print(can_accordion([a:b:|]))
                          ^
SyntaxError: invalid syntax
</pre></td>
                        <td><pre>def can_accordion(s):
    # Initialize left and right pointer to start and end of the string
    left = 0
    right = len(s) - 1

    # Remove characters until the left pointer reaches the end of the string
    while left < right:
        if s[left] == ":" and s[right] == " ":
            # If it's possible to form an accordion, move the left pointer to the next character
            left += 1
        elif s[left] == ":" and s[right] != " ":
            # If it's possible to form an accordion, move the right pointer to the next character
            right -= 1
        else:
            # If it's not possible to form an accordion, move the left and right pointers to the next character
            left += 1
            right -= 1

    # Return the length of the accordion
    return right - left + 1


# Test the function
print(can_accordion([a:b:|]))
print(can_accordion(":[|:]"))
print(can_accordion("[a:b:"))
print(can_accordion("|]:[|:]"))</pre></td>
                    </tr>
            
                </tbody>
            </table>
        </div>
        
    </body>
    </html>
    